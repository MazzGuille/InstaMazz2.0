@{
    ViewBag.Title = "Perfil";
    var Publicaciones = ViewBag.Publicaciones;
}
@model InstaMazz2._0.Models.UsuarioModel

    <div class="container d-flex flex-column justify-content-center align-items-center w-100row p-0 gap-5" style="margin-top: 10vh;">
        <div class="card col-xs-12 col-md-7 col-lg-5" >
            <div class="row g-0 p-0">
                <div class="col-xs-12 col-md-6 p-0">
                    <img src="/Upload/@Model.imagenPerf" class="img-fluid rounded-start h-100 w-100">
                </div>
                <div class="col-xs-12 col-md-6 p-0">
                    <div class="card-body">
                        <h2 class="card-title">@Model.Nombre</h2>
                        <p class="card-text">@Model.BioUsuario</p>
                        @*<p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>*@
                        <h4 class="card-text"><small class="text-muted">@Model.UserName</small></h4>
                        <div class="d-flex flex-row justify-content-start gap-3">
                            @if (ViewBag.usu)
                            {
                                <form action="@Url.Action("CrearPost", "Post")">
                                    <button type="submit" class="btn btn-success btn-s"><i class="bi bi-plus-circle"></i> </button>
                                </form>
                                <form action="@Url.Action("EditarPerfil", "Acceso")">
                                    <button type="submit" class="btn btn-primary btn-s"><i class="bi bi-pencil"></i> </button>
                                </form>
                                <form action="@Url.Action("ListaAmigosVista", "Amigos")">
                                    <button type="submit" class="btn btn-info btn-s"><i class="bi bi-person-lines-fill"></i> </button>
                                </form>
                                <form action="@Url.Action("SolicitudesVista", "Amigos")">
                                    <button type="submit" class="btn btn-warning btn-s"><i class="bi bi-person-plus"></i> </button>
                                </form>
                            }
                            else
                            {
                                if (ViewBag.Amigos) 
                                {
                                    <h2>Ya son Amigos...</h2>
                                } 
                                else { 
                                    if (ViewBag.nBTN)
                                    {
                                        if (ViewBag.IdUsuAmigo == Model.IdUsuario)
                                        {
                                            <a><i class="bi bi-person-minus"></i>@Html.ActionLink(" Cancelar Solicitud", "AgregarAmigo", "Amigos", new { nSolt = 0, idemail = Model.Email }, new { @class = "btn btn-danger btn-s gap-3" })</a>
                                        }
                                        else
                                        {
                                            <a><i class="bi bi-person-plus"></i>@Html.ActionLink(" Enviar Solicitud", "AgregarAmigo", "Amigos", new { nSolt = 1, idemail = Model.Email }, new { @class = "btn btn-primary btn-s gap-3" })</a>
                                        }
                                    }
                                    else
                                    {
                                        <a><i class="bi bi-person-plus"></i>@Html.ActionLink(" Enviar Solicitud", "AgregarAmigo", "Amigos", new { nSolt = 1, idemail = Model.Email }, new { @class = "btn btn-primary btn-s gap-3" })</a>
                                    }                                
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container d-flex flex-column justify-content-center align-items-center w-100">
            <div class="row">               
                @foreach (var item in Publicaciones)
                {
                    <div class="col-xs-12 col-md-4 col-lg-3">
                        <div>
                            <img src="@item.UrlImg" class="img-responsive card-img-top w-100 h-100">
                        </div>
                        <div class="card-body bg-none">
                            <p class="card-text bg-white mb-3">@item.Descripcion</p>
                            @*<div class="btn btn-danger btn-lg"> <i class="bi bi-trash"></i>@Html.ActionLink(" ", "ListarVista", "Post")</div>*@

                        </div>
                        @if (ViewBag.usu){
                            <form action="@Url.Action("Delete", "Post", new {IdPost = item.IdPost})" method="post">
                                <button type="submit" class="btn btn-danger btn-s mb-3"><i class="bi bi-trash"></i> </button>
                            </form>                          
                         }
                    </div>
                }

            </div>
        </div>
    </div>




